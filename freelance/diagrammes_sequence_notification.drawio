<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" version="29.3.6" pages="4">
  <diagram id="sequence-scheduler" name="1. Scheduler - Rappel 3 jours">
    <mxGraphModel dx="786" dy="451" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title1" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" value="Diagramme de Séquence - Rappel Automatique (Scheduler)" vertex="1">
          <mxGeometry height="40" width="500" x="400" y="20" as="geometry" />
        </mxCell>
        <mxCell id="actor1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="MissionEndReminder&#xa;Scheduler" vertex="1">
          <mxGeometry height="900" width="120" x="80" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;" value="MissionFreelance&#xa;Repository" vertex="1">
          <mxGeometry height="900" width="120" x="280" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#ffe6cc;strokeColor=#d79b00;" value="Notification&#xa;Service" vertex="1">
          <mxGeometry height="900" width="120" x="480" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#e1d5e7;strokeColor=#9673a6;" value="Notification&#xa;Repository" vertex="1">
          <mxGeometry height="900" width="120" x="680" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#f8cecc;strokeColor=#b85450;" value="SimpMessaging&#xa;Template" vertex="1">
          <mxGeometry height="900" width="120" x="880" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor6" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#fff2cc;strokeColor=#d6b656;" value="Client&#xa;(WebSocket)" vertex="1">
          <mxGeometry height="900" width="120" x="1080" y="80" as="geometry" />
        </mxCell>
        <mxCell id="note1" parent="1" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;size=14;fontSize=10;" value="@Scheduled&lt;br&gt;cron = &quot;0 */2 * * * *&quot;&lt;br&gt;(chaque 9H )" vertex="1">
          <mxGeometry height="60" width="140" x="40" y="170" as="geometry" />
        </mxCell>
        <mxCell id="msg1" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=none;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="140" y="250" as="sourcePoint" />
            <mxPoint x="140" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg1_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="targetDate = now() + 3 jours" vertex="1">
          <mxGeometry height="20" width="150" x="150" y="255" as="geometry" />
        </mxCell>
        <mxCell id="msg2" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="140" y="310" as="sourcePoint" />
            <mxPoint x="340" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg2_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="findMissionsEndingOn(targetDate)" vertex="1">
          <mxGeometry height="20" width="180" x="160" y="290" as="geometry" />
        </mxCell>
        <mxCell id="msg3" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="340" y="360" as="sourcePoint" />
            <mxPoint x="140" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg3_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="List&lt;MissionFreelance&gt;" vertex="1">
          <mxGeometry height="20" width="120" x="180" y="340" as="geometry" />
        </mxCell>
        <mxCell id="loop1" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#666666;dashed=1;" value="" vertex="1">
          <mxGeometry height="420" width="1040" x="100" y="390" as="geometry" />
        </mxCell>
        <mxCell id="loop1_label" parent="1" style="text;html=1;strokeColor=none;fillColor=#f5f5f5;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#333333;" value="LOOP [pour chaque MissionFreelance]" vertex="1">
          <mxGeometry height="20" width="220" x="100" y="390" as="geometry" />
        </mxCell>
        <mxCell id="msg4" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="140" y="440" as="sourcePoint" />
            <mxPoint x="540" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg4_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="createAndSendNotification(freelancerId, missionId, RAPPEL_FIN_MISSION, message)" vertex="1">
          <mxGeometry height="20" width="350" x="180" y="420" as="geometry" />
        </mxCell>
        <mxCell id="msg5" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="540" y="490" as="sourcePoint" />
            <mxPoint x="740" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg5_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="save(notification)" vertex="1">
          <mxGeometry height="20" width="120" x="580" y="470" as="geometry" />
        </mxCell>
        <mxCell id="msg6" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="740" y="540" as="sourcePoint" />
            <mxPoint x="540" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg6_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="notification (saved)" vertex="1">
          <mxGeometry height="20" width="120" x="580" y="520" as="geometry" />
        </mxCell>
        <mxCell id="msg7" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=none;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="540" y="570" as="sourcePoint" />
            <mxPoint x="540" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg7_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="NotificationDTO.fromEntity()" vertex="1">
          <mxGeometry height="20" width="150" x="550" y="575" as="geometry" />
        </mxCell>
        <mxCell id="msg8" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="540" y="640" as="sourcePoint" />
            <mxPoint x="940" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg8_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="convertAndSend(&quot;/topic/notifications/&quot; + freelancerId, dto)" vertex="1">
          <mxGeometry height="20" width="300" x="600" y="620" as="geometry" />
        </mxCell>
        <mxCell id="msg9" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;strokeColor=#009900;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="940" y="690" as="sourcePoint" />
            <mxPoint x="1140" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg9_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#009900;fontStyle=1;" value="MESSAGE (NotificationDTO JSON)" vertex="1">
          <mxGeometry height="20" width="180" x="960" y="670" as="geometry" />
        </mxCell>
        <mxCell id="msg10" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=none;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="540" y="720" as="sourcePoint" />
            <mxPoint x="540" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg10_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="setSentViaWebsocket(true)" vertex="1">
          <mxGeometry height="20" width="150" x="550" y="725" as="geometry" />
        </mxCell>
        <mxCell id="msg11" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=none;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="140" y="770" as="sourcePoint" />
            <mxPoint x="140" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="msg11_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="mf.setNotificationEnvoyee(true)" vertex="1">
          <mxGeometry height="20" width="180" x="150" y="775" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="sequence-websocket" name="2. Connexion WebSocket">
    <mxGraphModel dx="786" dy="451" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title2" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" value="Diagramme de Séquence - Connexion WebSocket et Réception de Notifications" vertex="1">
          <mxGeometry height="40" width="600" x="250" y="20" as="geometry" />
        </mxCell>
        <mxCell id="ws_actor1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#fff2cc;strokeColor=#d6b656;" value="Client&#xa;(Browser)" vertex="1">
          <mxGeometry height="700" width="100" x="120" y="80" as="geometry" />
        </mxCell>
        <mxCell id="ws_actor2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="SockJS&#xa;Handler" vertex="1">
          <mxGeometry height="700" width="100" x="320" y="80" as="geometry" />
        </mxCell>
        <mxCell id="ws_actor3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;" value="WebSocket&#xa;Server" vertex="1">
          <mxGeometry height="700" width="100" x="520" y="80" as="geometry" />
        </mxCell>
        <mxCell id="ws_actor4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#e1d5e7;strokeColor=#9673a6;" value="STOMP&#xa;Broker" vertex="1">
          <mxGeometry height="700" width="100" x="720" y="80" as="geometry" />
        </mxCell>
        <mxCell id="ws_actor5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#ffe6cc;strokeColor=#d79b00;" value="Notification&#xa;Service" vertex="1">
          <mxGeometry height="700" width="100" x="920" y="80" as="geometry" />
        </mxCell>
        <mxCell id="phase1" parent="1" style="text;html=1;strokeColor=none;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1" value="PHASE 1: CONNEXION" vertex="1">
          <mxGeometry height="25" width="140" x="40" y="160" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg1" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="170" y="200" as="sourcePoint" />
            <mxPoint x="370" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg1_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="1. new SockJS(&#39;/ws&#39;)" vertex="1">
          <mxGeometry height="20" width="140" x="200" y="180" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg2" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="370" y="240" as="sourcePoint" />
            <mxPoint x="570" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg2_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Upgrade HTTP → WebSocket" vertex="1">
          <mxGeometry height="20" width="160" x="390" y="220" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg3" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="370" y="280" as="sourcePoint" />
            <mxPoint x="170" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg3_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="2. WebSocket OPEN" vertex="1">
          <mxGeometry height="20" width="120" x="210" y="260" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg4" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="170" y="320" as="sourcePoint" />
            <mxPoint x="570" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg4_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="3. STOMP CONNECT {accept-version: 1.2}" vertex="1">
          <mxGeometry height="20" width="220" x="250" y="300" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg5" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="570" y="360" as="sourcePoint" />
            <mxPoint x="770" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg5_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Register session" vertex="1">
          <mxGeometry height="20" width="100" x="610" y="340" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg6" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="570" y="400" as="sourcePoint" />
            <mxPoint x="170" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg6_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="4. STOMP CONNECTED" vertex="1">
          <mxGeometry height="20" width="140" x="300" y="380" as="geometry" />
        </mxCell>
        <mxCell id="phase2" parent="1" style="text;html=1;strokeColor=none;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1" value="PHASE 2: SOUSCRIPTION" vertex="1">
          <mxGeometry height="25" width="140" x="40" y="430" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg7" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="170" y="470" as="sourcePoint" />
            <mxPoint x="570" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg7_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="5. SUBSCRIBE /topic/notifications/{freelancerId}" vertex="1">
          <mxGeometry height="20" width="260" x="230" y="450" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg8" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="570" y="510" as="sourcePoint" />
            <mxPoint x="770" y="510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg8_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Add subscription" vertex="1">
          <mxGeometry height="20" width="100" x="610" y="490" as="geometry" />
        </mxCell>
        <mxCell id="waiting_note" parent="1" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#f5f5f5;strokeColor=#666666;size=14;fontSize=10;fontStyle=2" value="CLIENT EN ATTENTE DE MESSAGES..." vertex="1">
          <mxGeometry height="40" width="180" x="100" y="550" as="geometry" />
        </mxCell>
        <mxCell id="phase3" parent="1" style="text;html=1;strokeColor=none;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1" value="PHASE 3: RÉCEPTION" vertex="1">
          <mxGeometry height="25" width="140" x="40" y="610" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg9" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;strokeColor=#0066CC;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="970" y="650" as="sourcePoint" />
            <mxPoint x="770" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg9_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#0066CC;" value="Nouvelle notification" vertex="1">
          <mxGeometry height="20" width="120" x="810" y="630" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg10" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;strokeColor=#009900;strokeWidth=2;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="770" y="690" as="sourcePoint" />
            <mxPoint x="170" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg10_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#009900;fontStyle=1" value="6. MESSAGE (NotificationDTO JSON)" vertex="1">
          <mxGeometry height="20" width="220" x="350" y="670" as="geometry" />
        </mxCell>
        <mxCell id="ws_msg11" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=none;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="170" y="720" as="sourcePoint" />
            <mxPoint x="170" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ws_msg11_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="7. Afficher notification dans UI" vertex="1">
          <mxGeometry height="20" width="170" x="180" y="725" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="sequence-rest-api" name="3. API REST - Gestion Notifications">
    <mxGraphModel dx="786" dy="451" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title3" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" value="Diagramme de Séquence - API REST Notifications" vertex="1">
          <mxGeometry height="40" width="400" x="350" y="20" as="geometry" />
        </mxCell>
        <mxCell id="rest_actor1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#fff2cc;strokeColor=#d6b656;" value="Client&#xa;(Frontend)" vertex="1">
          <mxGeometry height="850" width="100" x="120" y="80" as="geometry" />
        </mxCell>
        <mxCell id="rest_actor2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="Notification&#xa;Controller" vertex="1">
          <mxGeometry height="850" width="100" x="350" y="80" as="geometry" />
        </mxCell>
        <mxCell id="rest_actor3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#ffe6cc;strokeColor=#d79b00;" value="Notification&#xa;Service" vertex="1">
          <mxGeometry height="850" width="100" x="580" y="80" as="geometry" />
        </mxCell>
        <mxCell id="rest_actor4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#d5e8d4;strokeColor=#82b366;" value="Notification&#xa;Repository" vertex="1">
          <mxGeometry height="850" width="100" x="810" y="80" as="geometry" />
        </mxCell>
        <mxCell id="rest_actor5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#e1d5e7;strokeColor=#9673a6;" value="Database&#xa;(PostgreSQL)" vertex="1">
          <mxGeometry height="850" width="100" x="1040" y="80" as="geometry" />
        </mxCell>
        <mxCell id="section1" parent="1" style="text;html=1;strokeColor=none;fillColor=#dae8fc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1" value="1. RÉCUPÉRER TOUTES LES NOTIFICATIONS" vertex="1">
          <mxGeometry height="25" width="250" x="40" y="160" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg1" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="170" y="200" as="sourcePoint" />
            <mxPoint x="400" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg1_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="GET /api/notifications/freelancer/{id}" vertex="1">
          <mxGeometry height="20" width="200" x="190" y="180" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg2" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="400" y="230" as="sourcePoint" />
            <mxPoint x="630" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg2_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="getNotificationsByFreelancerId(id)" vertex="1">
          <mxGeometry height="20" width="180" x="430" y="210" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg3" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="630" y="260" as="sourcePoint" />
            <mxPoint x="860" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg3_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="findByFreelancerIdOrderByCreatedAtDesc(id)" vertex="1">
          <mxGeometry height="20" width="220" x="650" y="240" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg4" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="860" y="290" as="sourcePoint" />
            <mxPoint x="1090" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg4_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" value="SELECT * FROM notifications ORDER BY created_at DESC" vertex="1">
          <mxGeometry height="20" width="230" x="870" y="270" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg5" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="1090" y="320" as="sourcePoint" />
            <mxPoint x="170" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg5_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#009900;" value="200 OK - List&lt;NotificationDTO&gt;" vertex="1">
          <mxGeometry height="20" width="180" x="500" y="300" as="geometry" />
        </mxCell>
        <mxCell id="section2" parent="1" style="text;html=1;strokeColor=none;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1" value="2. COMPTER LES NON LUES" vertex="1">
          <mxGeometry height="25" width="180" x="40" y="360" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg6" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="170" y="400" as="sourcePoint" />
            <mxPoint x="400" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg6_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="GET /api/notifications/freelancer/{id}/count" vertex="1">
          <mxGeometry height="20" width="220" x="180" y="380" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg7" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="630" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg7_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="countUnreadNotifications(id)" vertex="1">
          <mxGeometry height="20" width="160" x="440" y="410" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg8" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="630" y="460" as="sourcePoint" />
            <mxPoint x="860" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg8_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="countByFreelancerIdAndIsReadFalse(id)" vertex="1">
          <mxGeometry height="20" width="200" x="660" y="440" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg9" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="860" y="490" as="sourcePoint" />
            <mxPoint x="1090" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg9_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" value="SELECT COUNT(*) WHERE is_read = false" vertex="1">
          <mxGeometry height="20" width="200" x="880" y="470" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg10" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="1090" y="520" as="sourcePoint" />
            <mxPoint x="170" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg10_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#009900;" value="200 OK - count: 5" vertex="1">
          <mxGeometry height="20" width="100" x="550" y="500" as="geometry" />
        </mxCell>
        <mxCell id="section3" parent="1" style="text;html=1;strokeColor=none;fillColor=#ffe6cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1" value="3. MARQUER COMME LUE" vertex="1">
          <mxGeometry height="25" width="160" x="40" y="560" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg11" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="170" y="600" as="sourcePoint" />
            <mxPoint x="400" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg11_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="PUT /api/notifications/{id}/read" vertex="1">
          <mxGeometry height="20" width="180" x="200" y="580" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg12" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="400" y="630" as="sourcePoint" />
            <mxPoint x="630" y="630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg12_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="markAsRead(id)" vertex="1">
          <mxGeometry height="20" width="100" x="470" y="610" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg13" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="630" y="660" as="sourcePoint" />
            <mxPoint x="860" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg13_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="findById(id)" vertex="1">
          <mxGeometry height="20" width="80" x="700" y="640" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg14" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="860" y="690" as="sourcePoint" />
            <mxPoint x="630" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg14_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="Optional&lt;Notification&gt;" vertex="1">
          <mxGeometry height="20" width="120" x="690" y="670" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg15" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=none;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="630" y="720" as="sourcePoint" />
            <mxPoint x="630" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg15_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="notification.setIsRead(true)" vertex="1">
          <mxGeometry height="20" width="150" x="640" y="725" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg16" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="630" y="780" as="sourcePoint" />
            <mxPoint x="860" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg16_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" value="save(notification)" vertex="1">
          <mxGeometry height="20" width="110" x="690" y="760" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg17" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=classic;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="860" y="810" as="sourcePoint" />
            <mxPoint x="1090" y="810" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg17_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" value="UPDATE notifications SET is_read = true" vertex="1">
          <mxGeometry height="20" width="200" x="880" y="790" as="geometry" />
        </mxCell>
        <mxCell id="rest_msg18" edge="1" parent="1" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" value="">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="1090" y="850" as="sourcePoint" />
            <mxPoint x="170" y="850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rest_msg18_label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#009900;" value="200 OK - NotificationDTO {isRead: true}" vertex="1">
          <mxGeometry height="20" width="220" x="480" y="830" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="RRhDaAp-ZyQetP7UaD6-" name="Page-4">
    <mxGraphModel dx="786" dy="451" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
