<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" version="29.3.7" pages="2">
  <diagram id="architecture-globale" name="Architecture Globale">
    <mxGraphModel dx="786" dy="451" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;fontStyle=1;fontColor=#1a365d;" value="ARCHITECTURE MICROSERVICES&amp;nbsp;" vertex="1">
          <mxGeometry height="50" width="700" x="350" y="20" as="geometry" />
        </mxCell>
        <mxCell id="subtitle" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=2;fontColor=#718096;" value="Systeme de notifications scalable et decouple" vertex="1">
          <mxGeometry height="25" width="500" x="450" y="65" as="geometry" />
        </mxCell>
        <mxCell id="producers-label" parent="1" style="text;html=1;strokeColor=none;fillColor=#e2e8f0;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#2d3748;" value="PRODUCERS (Microservices)" vertex="1">
          <mxGeometry height="30" width="250" x="220" y="110" as="geometry" />
        </mxCell>
        <mxCell id="service1-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff5f5;strokeColor=#c53030;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="280" width="280" x="80" y="160" as="geometry" />
        </mxCell>
        <mxCell id="service1-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#c53030;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="SERVICE 1&#xa;mission-reminder-service" vertex="1">
          <mxGeometry height="40" width="240" x="100" y="175" as="geometry" />
        </mxCell>
        <mxCell id="service1-desc" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#4a5568;" value="Responsabilite:&#xa;Detecter les missions qui se terminent&#xa;dans 3 jours et alerter les freelances&#xa;pour rediger leur rapport" vertex="1">
          <mxGeometry height="60" width="250" x="95" y="225" as="geometry" />
        </mxCell>
        <mxCell id="service1-tech" parent="1" style="text;html=1;strokeColor=none;fillColor=#fed7e2;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;fontColor=#742a2a;spacingLeft=5;spacingTop=5;" value="Composants:&#xa;- Scheduler (Cron 9h quotidien)&#xa;- MissionFreelanceRepository&#xa;- KafkaTemplate (Producer)&#xa;- Batch processing" vertex="1">
          <mxGeometry height="70" width="250" x="95" y="290" as="geometry" />
        </mxCell>
        <mxCell id="service1-output" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#c53030;" value="Output: ReminderEvent" vertex="1">
          <mxGeometry height="20" width="250" x="95" y="370" as="geometry" />
        </mxCell>
        <mxCell id="service1-db" parent="1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#c6f6d5;strokeColor=#276749;fontSize=9;fontStyle=1;" value="PostgreSQL&#xa;(mission_freelance)" vertex="1">
          <mxGeometry height="40" width="100" x="95" y="395" as="geometry" />
        </mxCell>
        <mxCell id="service2-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0fff4;strokeColor=#276749;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="280" width="280" x="400" y="160" as="geometry" />
        </mxCell>
        <mxCell id="service2-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#276749;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="SERVICE 2&#xa;mission-matching-service" vertex="1">
          <mxGeometry height="40" width="240" x="420" y="175" as="geometry" />
        </mxCell>
        <mxCell id="service2-desc" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontColor=#4a5568;" value="Responsabilite:&#xa;Ecouter les nouvelles missions,&#xa;executer l&#39;algorithme de matching&#xa;et alerter les freelances compatibles" vertex="1">
          <mxGeometry height="60" width="250" x="415" y="225" as="geometry" />
        </mxCell>
        <mxCell id="service2-tech" parent="1" style="text;html=1;strokeColor=none;fillColor=#c6f6d5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;fontColor=#22543d;spacingLeft=5;spacingTop=5;" value="Composants:&#xa;- EventListener (MissionCreated)&#xa;- Algorithme de matching&#xa;  (competences, dispo, localisation)&#xa;- KafkaTemplate (Producer)" vertex="1">
          <mxGeometry height="70" width="250" x="415" y="290" as="geometry" />
        </mxCell>
        <mxCell id="service2-output" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#276749;" value="Output: MatchingEvent" vertex="1">
          <mxGeometry height="20" width="250" x="415" y="370" as="geometry" />
        </mxCell>
        <mxCell id="service2-db" parent="1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#c6f6d5;strokeColor=#276749;fontSize=9;fontStyle=1;" value="PostgreSQL&#xa;(missions, freelancers)" vertex="1">
          <mxGeometry height="40" width="120" x="415" y="395" as="geometry" />
        </mxCell>
        <mxCell id="kafka-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1a202c;strokeColor=#4a5568;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="200" width="600" x="80" y="500" as="geometry" />
        </mxCell>
        <mxCell id="kafka-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#4a5568;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#ffffff;" value="APACHE KAFKA CLUSTER" vertex="1">
          <mxGeometry height="35" width="260" x="250" y="515" as="geometry" />
        </mxCell>
        <mxCell id="topic1-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fed7aa;strokeColor=#c05621;strokeWidth=2;" value="" vertex="1">
          <mxGeometry height="110" width="250" x="100" y="570" as="geometry" />
        </mxCell>
        <mxCell id="topic1-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#c05621;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fontColor=#ffffff;" value="Topic: mission-reminder" vertex="1">
          <mxGeometry height="25" width="230" x="110" y="580" as="geometry" />
        </mxCell>
        <mxCell id="topic1-content" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#ffffff;fontFamily=Courier New;" value="Partition 0: [msg1, msg2, msg3...]&#xa;Partition 1: [msg1, msg2, msg3...]&#xa;Partition 2: [msg1, msg2, msg3...]&#xa;&#xa;Key: freelancerId (ordering)" vertex="1">
          <mxGeometry height="65" width="230" x="110" y="610" as="geometry" />
        </mxCell>
        <mxCell id="topic2-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c6f6d5;strokeColor=#276749;strokeWidth=2;" value="" vertex="1">
          <mxGeometry height="110" width="250" x="410" y="570" as="geometry" />
        </mxCell>
        <mxCell id="topic2-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#276749;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fontColor=#ffffff;" value="Topic: mission-matching" vertex="1">
          <mxGeometry height="25" width="230" x="420" y="580" as="geometry" />
        </mxCell>
        <mxCell id="topic2-content" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#1a202c;fontFamily=Courier New;" value="Partition 0: [msg1, msg2, msg3...]&#xa;Partition 1: [msg1, msg2, msg3...]&#xa;Partition 2: [msg1, msg2, msg3...]&#xa;&#xa;Key: freelancerId (ordering)" vertex="1">
          <mxGeometry height="65" width="230" x="420" y="610" as="geometry" />
        </mxCell>
        <mxCell id="consumer-label" parent="1" style="text;html=1;strokeColor=none;fillColor=#e2e8f0;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#2d3748;" value="CONSUMER (Microservice)" vertex="1">
          <mxGeometry height="30" width="250" x="220" y="730" as="geometry" />
        </mxCell>
        <mxCell id="service3-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#faf5ff;strokeColor=#805ad5;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="200" width="600" x="80" y="780" as="geometry" />
        </mxCell>
        <mxCell id="service3-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#805ad5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=16;fontStyle=1;fontColor=#ffffff;" value="SERVICE 3 - notification-service" vertex="1">
          <mxGeometry height="35" width="320" x="220" y="795" as="geometry" />
        </mxCell>
        <mxCell id="service3-listener" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e9d8fd;strokeColor=#805ad5;fontSize=10;align=left;spacingLeft=10;fontFamily=Courier New;" value="@KafkaListener&#xa;topics = {&#xa;  &quot;mission-reminder&quot;,&#xa;  &quot;mission-matching&quot;&#xa;}&#xa;groupId = &quot;notification-group&quot;" vertex="1">
          <mxGeometry height="90" width="160" x="100" y="845" as="geometry" />
        </mxCell>
        <mxCell id="service3-process" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e9d8fd;strokeColor=#805ad5;fontSize=10;align=left;spacingLeft=10;" value="Traitement:&#xa;1. Deserialiser message&#xa;2. Creer Notification entity&#xa;3. Save PostgreSQL&#xa;4. Envoyer WebSocket&#xa;5. Gerer erreurs (retry/DLQ)" vertex="1">
          <mxGeometry height="90" width="180" x="280" y="845" as="geometry" />
        </mxCell>
        <mxCell id="service3-output" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e9d8fd;strokeColor=#805ad5;fontSize=10;align=left;spacingLeft=10;" value="Outputs:&#xa;- PostgreSQL (notifications)&#xa;- WebSocket Push&#xa;- Dead Letter Queue (erreurs)" vertex="1">
          <mxGeometry height="90" width="180" x="480" y="845" as="geometry" />
        </mxCell>
        <mxCell id="clients-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ebf8ff;strokeColor=#3182ce;strokeWidth=3;" value="" vertex="1">
          <mxGeometry height="480" width="200" x="780" y="500" as="geometry" />
        </mxCell>
        <mxCell id="clients-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#3182ce;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=14;fontStyle=1;fontColor=#ffffff;" value="CLIENTS&#xa;(Frontend React)" vertex="1">
          <mxGeometry height="40" width="160" x="800" y="515" as="geometry" />
        </mxCell>
        <mxCell id="client1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bee3f8;strokeColor=#2b6cb0;fontSize=10;" value="Freelancer 1&#xa;WebSocket connected&#xa;/topic/notifications/1" vertex="1">
          <mxGeometry height="60" width="160" x="800" y="580" as="geometry" />
        </mxCell>
        <mxCell id="client2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bee3f8;strokeColor=#2b6cb0;fontSize=10;" value="Freelancer 2&#xa;WebSocket connected&#xa;/topic/notifications/2" vertex="1">
          <mxGeometry height="60" width="160" x="800" y="660" as="geometry" />
        </mxCell>
        <mxCell id="client3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bee3f8;strokeColor=#2b6cb0;fontSize=10;" value="Freelancer 3&#xa;WebSocket connected&#xa;/topic/notifications/3" vertex="1">
          <mxGeometry height="60" width="160" x="800" y="740" as="geometry" />
        </mxCell>
        <mxCell id="client-dots" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#3182ce;" value="..." vertex="1">
          <mxGeometry height="30" width="60" x="850" y="810" as="geometry" />
        </mxCell>
        <mxCell id="clientN" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#bee3f8;strokeColor=#2b6cb0;fontSize=10;" value="Freelancer N&#xa;WebSocket connected&#xa;/topic/notifications/N" vertex="1">
          <mxGeometry height="60" width="160" x="800" y="850" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#c53030;entryX=0.2;entryY=0;entryDx=0;entryDy=0;" value="produce">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="220" y="440" as="sourcePoint" />
            <mxPoint x="220" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow2" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#276749;entryX=0.7;entryY=0;entryDx=0;entryDy=0;" value="produce">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="540" y="440" as="sourcePoint" />
            <mxPoint x="540" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow3" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#805ad5;" value="consume">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="380" y="700" as="sourcePoint" />
            <mxPoint x="380" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow4" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#3182ce;dashed=1;" value="WebSocket&#xa;Push">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="680" y="880" as="sourcePoint" />
            <mxPoint x="780" y="880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="advantages-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f7fafc;strokeColor=#a0aec0;strokeWidth=2;" value="" vertex="1">
          <mxGeometry height="280" width="280" x="1020" y="160" as="geometry" />
        </mxCell>
        <mxCell id="advantages-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#4a5568;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fontColor=#ffffff;" value="AVANTAGES DE CETTE ARCHITECTURE" vertex="1">
          <mxGeometry height="25" width="260" x="1030" y="170" as="geometry" />
        </mxCell>
        <mxCell id="advantages-content" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#4a5568;spacingLeft=10;spacingTop=5;" value="SCALABILITE&#xa;- 400k notifications = OK&#xa;- Partitions Kafka paralleles&#xa;- Consumers multiples&#xa;&#xa;RESILIENCE&#xa;- Retry automatique&#xa;- Dead Letter Queue&#xa;- Pas de perte de messages&#xa;&#xa;DECOUPLING&#xa;- Services independants&#xa;- Deploiement separe&#xa;- Maintenance isolee&#xa;&#xa;MONITORING&#xa;- Kafka metrics&#xa;- Lag monitoring&#xa;- Tracing distribue" vertex="1">
          <mxGeometry height="230" width="260" x="1030" y="200" as="geometry" />
        </mxCell>
        <mxCell id="tech-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f7fafc;strokeColor=#a0aec0;strokeWidth=2;" value="" vertex="1">
          <mxGeometry height="180" width="280" x="1020" y="460" as="geometry" />
        </mxCell>
        <mxCell id="tech-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#4a5568;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fontColor=#ffffff;" value="TECHNOLOGIES" vertex="1">
          <mxGeometry height="25" width="260" x="1030" y="470" as="geometry" />
        </mxCell>
        <mxCell id="tech-content" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#4a5568;spacingLeft=10;spacingTop=5;" value="Backend:&#xa;- Spring Boot 3.x&#xa;- Spring Kafka&#xa;- Spring WebSocket&#xa;&#xa;Message Broker:&#xa;- Apache Kafka 3.x&#xa;- Zookeeper / KRaft&#xa;&#xa;Frontend:&#xa;- React + STOMP.js" vertex="1">
          <mxGeometry height="130" width="260" x="1030" y="500" as="geometry" />
        </mxCell>
        <mxCell id="legend-box" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f7fafc;strokeColor=#a0aec0;strokeWidth=2;" value="" vertex="1">
          <mxGeometry height="150" width="280" x="1020" y="660" as="geometry" />
        </mxCell>
        <mxCell id="legend-header" parent="1" style="text;html=1;strokeColor=none;fillColor=#4a5568;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fontColor=#ffffff;" value="LEGENDE" vertex="1">
          <mxGeometry height="25" width="260" x="1030" y="670" as="geometry" />
        </mxCell>
        <mxCell id="leg1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff5f5;strokeColor=#c53030;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="1040" y="705" as="geometry" />
        </mxCell>
        <mxCell id="leg1-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;" value="Service Reminder (Producer)" vertex="1">
          <mxGeometry height="20" width="180" x="1070" y="702" as="geometry" />
        </mxCell>
        <mxCell id="leg2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0fff4;strokeColor=#276749;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="1040" y="730" as="geometry" />
        </mxCell>
        <mxCell id="leg2-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;" value="Service Matching (Producer)" vertex="1">
          <mxGeometry height="20" width="180" x="1070" y="727" as="geometry" />
        </mxCell>
        <mxCell id="leg3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1a202c;strokeColor=#4a5568;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="1040" y="755" as="geometry" />
        </mxCell>
        <mxCell id="leg3-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;" value="Apache Kafka" vertex="1">
          <mxGeometry height="20" width="180" x="1070" y="752" as="geometry" />
        </mxCell>
        <mxCell id="leg4" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#faf5ff;strokeColor=#805ad5;" value="" vertex="1">
          <mxGeometry height="15" width="20" x="1040" y="780" as="geometry" />
        </mxCell>
        <mxCell id="leg4-text" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;" value="Service Notification (Consumer)" vertex="1">
          <mxGeometry height="20" width="180" x="1070" y="777" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="sequence-kafka" name="Sequence Kafka">
    <mxGraphModel dx="1123" dy="644" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title2" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1a365d;" value="DIAGRAMME DE SEQUENCE - ARCHITECTURE KAFKA" vertex="1">
          <mxGeometry height="40" width="600" x="300" y="20" as="geometry" />
        </mxCell>
        <mxCell id="actor-scheduler" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#c53030;strokeColor=#9b2c2c;fontColor=#ffffff;fontStyle=1;fontSize=11;" value="mission reminder" vertex="1">
          <mxGeometry height="50" width="90" x="59" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor-matching" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#276749;strokeColor=#22543d;fontColor=#ffffff;fontStyle=1;fontSize=11;" value="Matching&#xa;Service" vertex="1">
          <mxGeometry height="50" width="90" x="200" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor-kafka" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1a202c;strokeColor=#4a5568;fontColor=#ffffff;fontStyle=1;fontSize=11;" value="Apache&#xa;Kafka" vertex="1">
          <mxGeometry height="50" width="90" x="380" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor-notif" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#805ad5;strokeColor=#6b46c1;fontColor=#ffffff;fontStyle=1;fontSize=11;" value="Notification&#xa;Service" vertex="1">
          <mxGeometry height="50" width="90" x="560" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor-db" parent="1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#276749;strokeColor=#22543d;fontColor=#ffffff;fontStyle=1;fontSize=11;" value="PostgreSQL" vertex="1">
          <mxGeometry height="60" width="90" x="740" y="75" as="geometry" />
        </mxCell>
        <mxCell id="actor-ws" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d69e2e;strokeColor=#b7791f;fontColor=#ffffff;fontStyle=1;fontSize=11;" value="WebSocket&#xa;Broker" vertex="1">
          <mxGeometry height="50" width="90" x="920" y="80" as="geometry" />
        </mxCell>
        <mxCell id="actor-client" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3182ce;strokeColor=#2c5282;fontColor=#ffffff;fontStyle=1;fontSize=11;" value="Client&#xa;React" vertex="1">
          <mxGeometry height="50" width="90" x="1100" y="80" as="geometry" />
        </mxCell>
        <mxCell id="line1" edge="1" parent="1" style="endArrow=none;dashed=1;html=1;dashPattern=1 4;strokeWidth=2;strokeColor=#c53030;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="105" y="130" as="sourcePoint" />
            <mxPoint x="105" y="1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="line2" edge="1" parent="1" style="endArrow=none;dashed=1;html=1;dashPattern=1 4;strokeWidth=2;strokeColor=#276749;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="245" y="130" as="sourcePoint" />
            <mxPoint x="245" y="1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="line3" edge="1" parent="1" style="endArrow=none;dashed=1;html=1;dashPattern=1 4;strokeWidth=2;strokeColor=#4a5568;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="425" y="130" as="sourcePoint" />
            <mxPoint x="425" y="1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="line4" edge="1" parent="1" style="endArrow=none;dashed=1;html=1;dashPattern=1 4;strokeWidth=2;strokeColor=#805ad5;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="605" y="130" as="sourcePoint" />
            <mxPoint x="605" y="1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="line5" edge="1" parent="1" style="endArrow=none;dashed=1;html=1;dashPattern=1 4;strokeWidth=2;strokeColor=#276749;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="785" y="135" as="sourcePoint" />
            <mxPoint x="785" y="1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="line6" edge="1" parent="1" style="endArrow=none;dashed=1;html=1;dashPattern=1 4;strokeWidth=2;strokeColor=#d69e2e;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="965" y="130" as="sourcePoint" />
            <mxPoint x="965" y="1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="line7" edge="1" parent="1" style="endArrow=none;dashed=1;html=1;dashPattern=1 4;strokeWidth=2;strokeColor=#3182ce;" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="1145" y="130" as="sourcePoint" />
            <mxPoint x="1145" y="1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="flux1-box" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#c53030;strokeWidth=2;dashed=1;" value="" vertex="1">
          <mxGeometry height="280" width="1160" x="40" y="160" as="geometry" />
        </mxCell>
        <mxCell id="flux1-label" parent="1" style="text;html=1;strokeColor=none;fillColor=#c53030;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fontColor=#ffffff;" value="FLUX 1: Rappel Fin de Mission (J-3)" vertex="1">
          <mxGeometry height="22" width="220" x="50" y="170" as="geometry" />
        </mxCell>
        <mxCell id="f1-m1" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#2d3748;" value="1. @Scheduled trigger (9h)">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="40" y="210" as="sourcePoint" />
            <mxPoint x="105" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1-m2" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#2d3748;" value="2. Query missions (date_fin = now+3)">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="105" y="240" as="sourcePoint" />
            <mxPoint x="785" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1-m3" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#38a169;dashed=1;" value="3. List&lt;MissionFreelance&gt;">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="785" y="270" as="sourcePoint" />
            <mxPoint x="105" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1-loop" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#dd6b20;strokeWidth=1;dashed=1;" value="" vertex="1">
          <mxGeometry height="100" width="400" x="60" y="290" as="geometry" />
        </mxCell>
        <mxCell id="f1-loop-label" parent="1" style="text;html=1;strokeColor=none;fillColor=#dd6b20;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontStyle=1;fontColor=#ffffff;" value="LOOP [batch]" vertex="1">
          <mxGeometry height="18" width="80" x="65" y="295" as="geometry" />
        </mxCell>
        <mxCell id="f1-m4" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#c53030;" value="4. kafkaTemplate.send(&quot;mission-reminder&quot;, ReminderEvent)">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="105" y="330" as="sourcePoint" />
            <mxPoint x="425" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1-m5" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#38a169;dashed=1;" value="5. ack">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="425" y="360" as="sourcePoint" />
            <mxPoint x="105" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f1-m6" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#2d3748;" value="6. UPDATE notification_envoyee = true">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="105" y="410" as="sourcePoint" />
            <mxPoint x="785" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="flux2-box" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#276749;strokeWidth=2;dashed=1;" value="" vertex="1">
          <mxGeometry height="180" width="1160" x="40" y="460" as="geometry" />
        </mxCell>
        <mxCell id="flux2-label" parent="1" style="text;html=1;strokeColor=none;fillColor=#276749;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fontColor=#ffffff;" value="FLUX 2: Nouvelle Mission (Matching)" vertex="1">
          <mxGeometry height="22" width="220" x="50" y="470" as="geometry" />
        </mxCell>
        <mxCell id="f2-m1" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#2d3748;" value="7. MissionCreatedEvent">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="40" y="510" as="sourcePoint" />
            <mxPoint x="245" y="510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2-m2" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#2d3748;" value="8. Algorithme matching (competences, dispo)">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="245" y="540" as="sourcePoint" />
            <mxPoint x="785" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2-m3" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#38a169;dashed=1;" value="9. List&lt;Freelancer&gt; matches">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="785" y="570" as="sourcePoint" />
            <mxPoint x="245" y="570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f2-m4" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#276749;" value="10. kafkaTemplate.send(&quot;mission-matching&quot;, MatchingEvent) [par freelancer]">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="245" y="610" as="sourcePoint" />
            <mxPoint x="425" y="610" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="flux3-box" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#805ad5;strokeWidth=2;dashed=1;" value="" vertex="1">
          <mxGeometry height="320" width="1160" x="40" y="660" as="geometry" />
        </mxCell>
        <mxCell id="flux3-label" parent="1" style="text;html=1;strokeColor=none;fillColor=#805ad5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fontColor=#ffffff;" value="FLUX 3: Consumption et Notification" vertex="1">
          <mxGeometry height="22" width="220" x="50" y="670" as="geometry" />
        </mxCell>
        <mxCell id="f3-m1" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#805ad5;" value="11. poll() - ConsumerRecords">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="605" y="710" as="sourcePoint" />
            <mxPoint x="425" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f3-m2" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#4a5568;" value="12. Event (Reminder ou Matching)">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="425" y="740" as="sourcePoint" />
            <mxPoint x="605" y="740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f3-m3-box" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e9d8fd;strokeColor=#805ad5;strokeWidth=1;" value="" vertex="1">
          <mxGeometry height="30" width="20" x="595" y="760" as="geometry" />
        </mxCell>
        <mxCell id="f3-m3-label" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#4a5568;" value="13. Create Notification entity" vertex="1">
          <mxGeometry height="20" width="180" x="620" y="765" as="geometry" />
        </mxCell>
        <mxCell id="f3-m4" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#2d3748;" value="14. INSERT INTO notifications">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="605" y="810" as="sourcePoint" />
            <mxPoint x="785" y="810" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f3-m5" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#38a169;dashed=1;" value="15. saved">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="785" y="840" as="sourcePoint" />
            <mxPoint x="605" y="840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f3-m6" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d69e2e;" value="16. convertAndSend(/topic/notifications/{id}, dto)">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="605" y="880" as="sourcePoint" />
            <mxPoint x="965" y="880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f3-m7" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#e53e3e;" value="17. PUSH notification">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="965" y="920" as="sourcePoint" />
            <mxPoint x="1145" y="920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="f3-m8" edge="1" parent="1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#805ad5;" value="18. commit offset">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="605" y="960" as="sourcePoint" />
            <mxPoint x="425" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
